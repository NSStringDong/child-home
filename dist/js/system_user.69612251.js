(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["system_user"],{"15b3":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-content"},[a("div",{staticClass:"search-content"},[a("div",{staticClass:"search-input"},[a("el-input",{attrs:{placeholder:"请输入员工姓名查询",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getUserList(1)}},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:function(e){return t.getUserList(1)}},slot:"append"})],1)],1),a("div",{staticClass:"search-btn"},[a("el-button",{staticClass:"new-btn",attrs:{type:"primary"},on:{click:t.showCreate}},[t._v("新增用户")])],1)]),a("div",{staticClass:"table-content"},[a("el-table",{attrs:{data:t.tableData,border:"",stripe:""},on:{"cell-dblclick":t.goToDetail}},[a("el-table-column",{attrs:{align:"center",prop:"id",label:"ID",width:"120px"}}),a("el-table-column",{attrs:{align:"center",prop:"realName",label:"姓名",width:"120px"}}),a("el-table-column",{attrs:{align:"center",prop:"name",label:"用户名"}}),a("el-table-column",{attrs:{align:"center",prop:"phone",label:"手机号"}}),a("el-table-column",{attrs:{align:"center",prop:"email",label:"邮箱"}}),a("el-table-column",{attrs:{align:"center",prop:"status",label:"用户状态",width:"120px"}}),a("el-table-column",{attrs:{align:"center",prop:"organizationName",label:"归属组织"}}),a("el-table-column",{attrs:{align:"center",prop:"registTime",label:"添加时间"}}),a("el-table-column",{attrs:{align:"center",label:"操作",width:"400px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info",samll:""},on:{click:function(a){return t.goToDetail(e.row)}}},[t._v("分配组织")]),a("el-button",{attrs:{type:"warning",samll:""},on:{click:function(a){return t.goToDetail(e.row)}}},[t._v("分配角色")]),a("el-button",{attrs:{type:"primary",samll:""},on:{click:function(a){return t.showUpdate(e.row)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",samll:""},on:{click:function(a){return t.showDeleteUser(e.row)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"","current-page":t.nowPage,"page-size":20,layout:"prev, pager, next, jumper","page-count":t.totalPage},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.nowPage=e},"update:current-page":function(e){t.nowPage=e}}})],1),a("el-dialog",{attrs:{title:t.changeText,visible:t.isNew,center:"",width:"35%"},on:{"update:visible":function(e){t.isNew=e}}},[a("el-form",[a("el-form-item",{attrs:{label:"姓名","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"}})],1),a("el-form-item",{attrs:{label:"用户名","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"}})],1),a("el-form-item",{attrs:{label:"手机号","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"}})],1),a("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"}})],1),a("el-form-item",{attrs:{label:"邮箱","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.isNew=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:t.isLoading},on:{click:t.createNewUser}},[t._v("确 定")])],1)],1)],1)])},o=[];a.d(e,"a",(function(){return n})),a.d(e,"b",(function(){return o}))},2214:function(t,e,a){},"28f5":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;a("25a9");var n={name:"system_user",data:function(){return{key:"",tableData:[],nowPage:null,totalPage:null,searchDate:"",formLabelWidth:"80px",isNew:!1,changeText:"",isUpdate:!1,isLoading:!1}},created:function(){this.getUserList(1)},mounted:function(){},watch:{isNew:function(t){0==t&&(this.changeText="",this.isUpdate=!1)}},methods:{getUserList:function(t){var e=this;e.nowPage=t,e.tableData=[];var a={rows:20,page:t};this.$http({url:"system/list",method:"POST",data:a}).then((function(t){e.tableData=t.rows,e.totalPage=20%t.total}))},goToDetail:function(t){},showCreate:function(){this.isNew=!0,this.changeText="新增用户"},showUpdate:function(t){this.isNew=!0,this.changeText="更新用户信息",this.isUpdate=!0},createNewUser:function(){var t=this,e=this,a="",n="";a=1==this.isUpdate?"system/update":"system/add",e.isLoading=!0,this.$http({url:a,method:"POST",data:{status:1}}).then((function(a){setTimeout((function(){a.code>=0?(n=1==t.isUpdate?"更新成功":"新增成功",t.isLoading=!1,t.isNew=!1,t.$message.success(n),t.getUserList(1)):e.$message({showClose:!0,message:a.data.msg,type:"error"})}),1500)}))},showDeleteUser:function(t){var e=this;this.$confirm("确认删除".concat(t.realName,"用户？"),"删除用户",{confirmButtonText:"是",cancelButtonText:"否",type:"warning",distinguishCancelAndClose:!0,beforeClose:function(a,n,o){"confirm"===a?(n.confirmButtonLoading=!0,n.confirmButtonText="执行中...",setTimeout((function(){o(),setTimeout((function(){e.deleteUser(t),n.confirmButtonLoading=!1}),300)}),3e3)):o()}}).then((function(){})).catch((function(t){"close"!==t&&"cancel"!==t||e.$message({type:"info",message:"放弃操作"})}))},deleteUser:function(t){var e=this,a=this,n={id:t.id};this.$http({url:"system/organization/delete",method:"POST",data:n}).then((function(t){t.code>=0?(e.$message.success("删除成功"),e.getUserList(1)):a.$message({showClose:!0,message:t.data.msg,type:"error"})}))},handleCurrentChange:function(t){getUserList(t)}},filters:{}};e.default=n,t.exports=e.default},"7e42":function(t,e,a){"use strict";var n=a("2214"),o=a.n(n);o.a},a2ee:function(t,e,a){"use strict";a.r(e);var n=a("28f5"),o=a.n(n);for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e["default"]=o.a},c7e7:function(t,e,a){"use strict";a.r(e);var n=a("15b3"),o=a("a2ee");for(var i in o)"default"!==i&&function(t){a.d(e,t,(function(){return o[t]}))}(i);a("7e42");var l=a("2877"),s=Object(l["a"])(o["default"],n["a"],n["b"],!1,null,"2ba5301b",null);e["default"]=s.exports}}]);